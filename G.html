<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>費用と販売計画</title>
    <style>
        :root {
    --main-text: #042159;
    --main-bg: #fff;
        }
    
 
@media(prefers-color-scheme:dark) {
    :root {
        --main-text: #8899A6;
        --main-bg: #15202B;
    }
}
        table { width: 80%; margin: 20px auto; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid #000; text-align: left; }
        th { background-color: #f2f2f2; } td {color: var(--main-text)}
        body { background-color: var(--main-bg)}
    </style>
</head>
<body>
    <h2>費用</h2>
    <table id="costTable">
        <tr>
            <th>項目</th>
            <th>費用（円）</th>
        </tr>
        <tr>
            <td>わたあめ機</td>
            <td><input type="number" id="machineCost" value="11000" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <td>ザラメ（白）</td>
            <td><input type="number" id="sugarWhiteCost" value="3170" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <td>ザラメ（赤）</td>
            <td><input type="number" id="sugarRedCost" value="950" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <td>ザラメ（青）</td>
            <td><input type="number" id="sugarBlueCost" value="950" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <td>ザラメ（黄色）</td>
            <td><input type="number" id="sugarYellowCost" value="950" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <td>割り箸</td>
            <td><input type="number" id="chopstickCost" value="2000" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <td>飾り付け費用</td>
            <td><input type="number" id="decorationCost" value="5000" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <td>その他</td>
            <td><input type="number" id="otherCost" value="0" oninput="updatePlan()"></td>
        </tr>
        <tr>
            <th>合計費用</th>
            <th id="totalCost">24020</th>
        </tr>
    </table>

    <h2>販売計画</h2>
    <table id="salesPlanTable">
        <tr>
            <th>項目</th>
            <th>値</th>
            <th></th>
            <th>計算式</th>
        </tr>
        <tr>
            <td>わたあめ1個あたりの販売価格（円）</td>
            <td><input type="number" id="pricePerUnit" value="50" oninput="updatePlan()"></td>
            <td>収支0のための販売個数</td>
            <td id="zeroSalesNumber">---</td>
        </tr>
        <tr>
            <td>販売個数</td>
            <td><input type="number" id="forecastNumber" value="480" oninput="updatePlan()"></td>
            <td>収支0のための販売価格</td>
            <td id="zeroSalesPrice">---</td>
        </tr>
        <tr>
            <td>売上</td>
            <td id="revenue">---</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>合計費用</td>
            <td id="displayTotalCost">---</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>利益</td>
            <td id="profit">---</td>
            <td></td>
            <td></td>
        </tr>
    </table>

    <script>
        function updatePlan() {
            // 各費用項目の値を取得
            const machineCost = parseInt(document.getElementById('machineCost').value);
            const sugarWhiteCost = parseInt(document.getElementById('sugarWhiteCost').value);
            const sugarRedCost = parseInt(document.getElementById('sugarRedCost').value);
            const sugarBlueCost = parseInt(document.getElementById('sugarBlueCost').value);
            const sugarYellowCost = parseInt(document.getElementById('sugarYellowCost').value);
            const chopstickCost = parseInt(document.getElementById('chopstickCost').value);
            const decorationCost = parseInt(document.getElementById('decorationCost').value);
            const otherCost = parseInt(document.getElementById('otherCost').value);

            // 合計費用を計算
            const totalCost = machineCost + sugarWhiteCost + sugarRedCost + sugarBlueCost + sugarYellowCost + chopstickCost + decorationCost + otherCost;
            document.getElementById('totalCost').innerText = totalCost;
            document.getElementById('displayTotalCost').innerText = totalCost;

            // 販売計画の入力値を取得
            const pricePerUnit = parseFloat(document.getElementById('pricePerUnit').value);
            const forecastNumber = parseInt(document.getElementById('forecastNumber').value);

            // 収支0のための販売個数と価格を計算
            const zeroSalesNumber = totalCost / pricePerUnit;
            const zeroSalesPrice = totalCost / forecastNumber;
            const revenue = pricePerUnit * forecastNumber;
            const profit = revenue - totalCost;

            // 計算結果をHTML要素に表示
            document.getElementById('zeroSalesNumber').innerText = zeroSalesNumber.toFixed(2);
            document.getElementById('zeroSalesPrice').innerText = zeroSalesPrice.toFixed(2);
            document.getElementById('revenue').innerText = revenue.toFixed(2);
            document.getElementById('profit').innerText = profit.toFixed(2);
        }

        // 初期計算
        updatePlan();
    </script>
</body>
</html>
